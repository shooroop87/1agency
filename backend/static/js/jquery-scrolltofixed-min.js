!function(e){e.isScrollToFixed=function(o){return!!e(o).data("ScrollToFixed")},e.ScrollToFixed=function(o,t){var i,r,n,l,s,a=this;a.$el=e(o),a.el=o,a.$el.data("ScrollToFixed",a);var c=!1,d=a.$el,f=0,u=0,p=-1,x=-1,h=null;function $(){var e=a.options.limit;return e?"function"==typeof e?e.apply(d):e:0}function g(){return"fixed"===i}function m(){return"absolute"===i}function b(){return!(g()||m())}function v(){if(!g()){var e=d[0].getBoundingClientRect();h.css({display:d.css("display"),width:e.width,height:e.height,float:d.css("float")}),cssOptions={"z-index":a.options.zIndex,position:"fixed",top:-1==a.options.bottom?T():"",bottom:-1==a.options.bottom?"":a.options.bottom,"margin-left":"0px"},a.options.dontSetWidth||(cssOptions.width=d.css("width")),d.css(cssOptions),d.addClass(a.options.baseClassName),a.options.className&&d.addClass(a.options.className),i="fixed"}}function _(){var e=$(),o=u;a.options.removeOffsets&&(o="",e-=f),cssOptions={position:"absolute",top:e,left:o,"margin-left":"0px",bottom:""},a.options.dontSetWidth||(cssOptions.width=d.css("width")),d.css(cssOptions),i="absolute"}function S(){b()||(x=-1,h.css("display","none"),d.css({"z-index":s,width:"",position:r,left:"",top:l,"margin-left":""}),d.removeClass("scroll-to-fixed-fixed"),a.options.className&&d.removeClass(a.options.className),i=null)}function y(e){e!=x&&(d.css("left",u-e),x=e)}function T(){var e=a.options.marginTop;return e?"function"==typeof e?e.apply(d):e:0}function F(){if(!(!e.isScrollToFixed(d)||d.is(":hidden"))){var o=c,t=b();c?b()&&(f=d.offset().top,u=d.offset().left):(d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed"),x=-1,f=d.offset().top,u=d.offset().left,a.options.offsets&&(u+=d.offset().left-d.position().left),-1==p&&(p=u),i=d.css("position"),c=!0,-1!=a.options.bottom&&(d.trigger("preFixed.ScrollToFixed"),v(),d.trigger("fixed.ScrollToFixed")));var n=e(window).scrollLeft(),l=e(window).scrollTop(),s=$();a.options.minWidth&&e(window).width()<a.options.minWidth?b()&&o||(w(),d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed")):a.options.maxWidth&&e(window).width()>a.options.maxWidth?b()&&o||(w(),d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed")):-1==a.options.bottom?s>0&&l>=s-T()?t||m()&&o||(w(),d.trigger("preAbsolute.ScrollToFixed"),_(),d.trigger("unfixed.ScrollToFixed")):l>=f-T()?(g()&&o||(w(),d.trigger("preFixed.ScrollToFixed"),v(),x=-1,d.trigger("fixed.ScrollToFixed")),y(n)):b()&&o||(w(),d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed")):s>0?l+e(window).height()-d.outerHeight(!0)>=s-(T()||-(a.options.bottom?a.options.bottom:0))?g()&&(w(),d.trigger("preUnfixed.ScrollToFixed"),"absolute"===r?_():S(),d.trigger("unfixed.ScrollToFixed")):(g()||(w(),d.trigger("preFixed.ScrollToFixed"),v()),y(n),d.trigger("fixed.ScrollToFixed")):y(n)}}function w(){var e=d.css("position");"absolute"==e?d.trigger("postAbsolute.ScrollToFixed"):"fixed"==e?d.trigger("postFixed.ScrollToFixed"):d.trigger("postUnfixed.ScrollToFixed")}var k=function(e){d.is(":visible")?(c=!1,F()):S()},z=function(e){window.requestAnimationFrame?requestAnimationFrame(F):F()},C=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1};a.init=function(){a.options=e.extend({},e.ScrollToFixed.defaultOptions,t),s=d.css("z-index"),a.$el.css("z-index",a.options.zIndex),h=e("<div />"),i=d.css("position"),r=d.css("position"),n=d.css("float"),l=d.css("top"),b()&&a.$el.after(h),e(window).bind("resize.ScrollToFixed",k),e(window).bind("scroll.ScrollToFixed",z),"ontouchmove"in window&&e(window).bind("touchmove.ScrollToFixed",F),a.options.preFixed&&d.bind("preFixed.ScrollToFixed",a.options.preFixed),a.options.postFixed&&d.bind("postFixed.ScrollToFixed",a.options.postFixed),a.options.preUnfixed&&d.bind("preUnfixed.ScrollToFixed",a.options.preUnfixed),a.options.postUnfixed&&d.bind("postUnfixed.ScrollToFixed",a.options.postUnfixed),a.options.preAbsolute&&d.bind("preAbsolute.ScrollToFixed",a.options.preAbsolute),a.options.postAbsolute&&d.bind("postAbsolute.ScrollToFixed",a.options.postAbsolute),a.options.fixed&&d.bind("fixed.ScrollToFixed",a.options.fixed),a.options.unfixed&&d.bind("unfixed.ScrollToFixed",a.options.unfixed),a.options.spacerClass&&h.addClass(a.options.spacerClass),d.bind("resize.ScrollToFixed",function(){h.height(d.height())}),d.bind("scroll.ScrollToFixed",function(){d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed"),F()}),d.bind("detach.ScrollToFixed",function(o){C(o),d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed"),e(window).unbind("resize.ScrollToFixed",k),e(window).unbind("scroll.ScrollToFixed",z),d.unbind(".ScrollToFixed"),h.remove(),a.$el.removeData("ScrollToFixed")}),k()},a.init()},e.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},e.fn.scrollToFixed=function(o){return this.each(function(){new e.ScrollToFixed(this,o)})}}(jQuery),function(){var e,o,t,i,r,n={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},l=n,s=!1,a={x:0,y:0},c=!1,d=document.documentElement,f=[],u=/^Mac/.test(navigator.platform),p={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},x={37:1,38:1,39:1,40:1};function h(){if(!c&&document.body){c=!0;var i=document.body,r=document.documentElement,n=window.innerHeight,a=i.scrollHeight;if(d=document.compatMode.indexOf("CSS")>=0?r:i,e=i,l.keyboardSupport&&U("keydown",_),top!=self)s=!0;else if(Z&&a>n&&(i.offsetHeight<=n||r.offsetHeight<=n)){var f,u=document.createElement("div");if(u.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+d.scrollHeight+"px",document.body.appendChild(u),t=function(){f||(f=setTimeout(function(){u.style.height="0",u.style.height=d.scrollHeight+"px",f=null},500))},setTimeout(t,10),U("resize",t),(o=new K(t)).observe(i,{attributes:!0,childList:!0,characterData:!1}),d.offsetHeight<=n){var p=document.createElement("div");p.style.clear="both",i.appendChild(p)}}l.fixedBackground||(i.style.backgroundAttachment="scroll",r.style.backgroundAttachment="scroll")}}var $=[],g=!1,m=Date.now();function b(e,o,t){var i,r;if(i=o,i=i>0?1:-1,r=(r=t)>0?1:-1,(a.x!==i||a.y!==r)&&(a.x=i,a.y=r,$=[],m=0),1!=l.accelerationMax){var n=Date.now()-m;if(n<l.accelerationDelta){var s=(1+50/n)/2;s>1&&(o*=s=Math.min(s,l.accelerationMax),t*=s)}m=Date.now()}if($.push({x:o,y:t,lastX:o<0?.99:-.99,lastY:t<0?.99:-.99,start:Date.now()}),!g){var c=e===P()||e===document.body;null==e.$scrollBehavior&&function e(o){var t=T(o);if(null==k[t]){var i=getComputedStyle(o,"")["scroll-behavior"];k[t]="smooth"==i}return k[t]}(e)&&(e.$scrollBehavior=e.style.scrollBehavior,e.style.scrollBehavior="auto");var d=function(i){for(var r=Date.now(),n=0,s=0,a=0;a<$.length;a++){var f=$[a],u=r-f.start,p=u>=l.animationTime,x=p?1:u/l.animationTime;l.pulseAlgorithm&&(x=q(x));var h=f.x*x-f.lastX>>0,m=f.y*x-f.lastY>>0;n+=h,s+=m,f.lastX+=h,f.lastY+=m,p&&($.splice(a,1),a--)}c?window.scrollBy(n,s):(n&&(e.scrollLeft+=n),s&&(e.scrollTop+=s)),o||t||($=[]),$.length?W(d,e,1e3/l.frameRate+1):(g=!1,null!=e.$scrollBehavior&&(e.style.scrollBehavior=e.$scrollBehavior,e.$scrollBehavior=null))};W(d,e,0),g=!0}}function v(o){c||h();var t=o.target;if(o.defaultPrevented||o.ctrlKey||L(e,"embed")||L(t,"embed")&&/\.pdf/i.test(t.src)||L(e,"object")||t.shadowRoot)return!0;var r=-o.wheelDeltaX||o.deltaX||0,n=-o.wheelDeltaY||o.deltaY||0;u&&(o.wheelDeltaX&&M(o.wheelDeltaX,120)&&(r=-120*(o.wheelDeltaX/Math.abs(o.wheelDeltaX))),o.wheelDeltaY&&M(o.wheelDeltaY,120)&&(n=-120*(o.wheelDeltaY/Math.abs(o.wheelDeltaY)))),r||n||(n=-o.wheelDelta||0),1===o.deltaMode&&(r*=40,n*=40);var a=E(t);return a?!!function e(o){if(o){f.length||(f=[o,o,o]),o=Math.abs(o),f.push(o),f.shift(),clearTimeout(i),i=setTimeout(function(){try{localStorage.SS_deltaBuffer=f.join(",")}catch(e){}},1e3);var t=o>120&&X(o);return!X(120)&&!X(100)&&!t}}(n)||void(Math.abs(r)>1.2&&(r*=l.stepSize/120),Math.abs(n)>1.2&&(n*=l.stepSize/120),b(a,r,n),o.preventDefault(),z()):!s||!j||(Object.defineProperty(o,"target",{value:window.frameElement}),parent.wheel(o))}function _(o){var t=o.target,i=o.ctrlKey||o.altKey||o.metaKey||o.shiftKey&&o.keyCode!==p.spacebar;document.body.contains(e)||(e=document.activeElement);var r=/^(button|submit|radio|checkbox|file|color|image)$/i;if(o.defaultPrevented||/^(textarea|select|embed|object)$/i.test(t.nodeName)||L(t,"input")&&!r.test(t.type)||L(e,"video")||function e(o){var t=o.target,i=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do if(i=t.classList&&t.classList.contains("html5-video-controls"))break;while(t=t.parentNode);return i}(o)||t.isContentEditable||i||(L(t,"button")||L(t,"input")&&r.test(t.type))&&o.keyCode===p.spacebar||L(t,"input")&&"radio"==t.type&&x[o.keyCode])return!0;var n,a=0,c=0,d=E(e);if(!d)return!s||!j||parent.keydown(o);var f=d.clientHeight;switch(d==document.body&&(f=window.innerHeight),o.keyCode){case p.up:c=-l.arrowScroll;break;case p.down:c=l.arrowScroll;break;case p.spacebar:c=-(n=o.shiftKey?1:-1)*f*.9;break;case p.pageup:c=-(.9*f);break;case p.pagedown:c=.9*f;break;case p.home:d==document.body&&document.scrollingElement&&(d=document.scrollingElement),c=-d.scrollTop;break;case p.end:var u=d.scrollHeight-d.scrollTop-f;c=u>0?u+10:0;break;case p.left:a=-l.arrowScroll;break;case p.right:a=l.arrowScroll;break;default:return!0}b(d,a,c),o.preventDefault(),z()}function S(o){e=o.target}var y,T=(y=0,function(e){return e.uniqueID||(e.uniqueID=y++)}),F={},w={},k={};function z(){clearTimeout(r),r=setInterval(function(){F=w=k={}},1e3)}function C(e,o,t){for(var i=t?F:w,r=e.length;r--;)i[T(e[r])]=o;return o}function D(e,o){return(o?F:w)[T(e)]}function E(e){var o=[],t=document.body,i=d.scrollHeight;do{var r=D(e,!1);if(r)return C(o,r);if(o.push(e),i===e.scrollHeight){var n=B(d)&&B(t)||H(d);if(s&&A(d)||!s&&n)return C(o,P())}else if(A(e)&&H(e))return C(o,e)}while(e=e.parentElement)}function A(e){return e.clientHeight+10<e.scrollHeight}function B(e){return"hidden"!==getComputedStyle(e,"").getPropertyValue("overflow-y")}function H(e){var o=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===o||"auto"===o}function U(e,o,t){window.addEventListener(e,o,t||!1)}function N(e,o,t){window.removeEventListener(e,o,t||!1)}function L(e,o){return e&&(e.nodeName||"").toLowerCase()===o.toLowerCase()}if(window.localStorage&&localStorage.SS_deltaBuffer)try{f=localStorage.SS_deltaBuffer.split(",")}catch(O){}function M(e,o){return Math.floor(e/o)==e/o}function X(e){return M(f[0],e)&&M(f[1],e)&&M(f[2],e)}var Y,W=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,o,t){window.setTimeout(e,t||1e3/60)},K=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,P=(Y=document.scrollingElement,function(){if(!Y){var e=document.createElement("div");e.style.cssText="height:10000px;width:1px;",document.body.appendChild(e);var o=document.body.scrollTop;document.documentElement.scrollTop,window.scrollBy(0,3),Y=document.body.scrollTop!=o?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)}return Y});function R(e){var o,t,i;return(e*=l.pulseScale)<1?o=e-(1-Math.exp(-e)):(e-=1,o=(t=Math.exp(-1))+(i=1-Math.exp(-e))*(1-t)),o*l.pulseNormalize}function q(e){return e>=1?1:e<=0?0:(1==l.pulseNormalize&&(l.pulseNormalize/=R(1)),R(e))}var I=window.navigator.userAgent,V=/Edge/.test(I),j=/chrome/i.test(I)&&!V,G=/safari/i.test(I)&&!V,J=/mobile/i.test(I),Q=/Windows NT 6.1/i.test(I)&&/rv:11/i.test(I),Z=G&&(/Version\/8/i.test(I)||/Version\/9/i.test(I)),ee=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ee=!0}}))}catch(eo){}var et=!!ee&&{passive:!1},ei="onwheel"in document.createElement("div")?"wheel":"mousewheel";function er(e){for(var o in e)n.hasOwnProperty(o)&&(l[o]=e[o])}ei&&(j||G||Q)&&!J&&(U(ei,v,et),U("mousedown",S),U("load",h)),er.destroy=function e(){o&&o.disconnect(),N(ei,v),N("mousedown",S),N("keydown",_),N("resize",t),N("load",h)},window.SmoothScrollOptions&&er(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return er}):"object"==typeof exports?module.exports=er:window.SmoothScroll=er}();