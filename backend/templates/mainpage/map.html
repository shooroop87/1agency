{% load static i18n %}
{% if show_map_section %}
<section class="map-section" id="map-section">
  <div class="container">
    <p class="section-kicker">{% trans "Map" %}</p>
    <h2 class="section-title">{% trans "Expanding across all the islands" %}</h2>
  </div>

  <div class="map-wrapper">
    <div id="gmap-bali" class="map-canvas"></div>
    
    <div class="map-zoom">
      <button type="button" class="map-zoom__btn" data-zoom="in">+</button>
      <button type="button" class="map-zoom__btn" data-zoom="out">âˆ’</button>
    </div>

    <div id="map-popup" class="map-popup" style="display:none;">
      <div class="map-popup__inner">
        <button class="map-popup__close" type="button">&times;</button>
        <figure class="map-popup__thumb">
          <img src="" alt="">
        </figure>
        <div class="map-popup__body">
          <span class="map-popup__type"></span>
          <h3 class="map-popup__title"></h3>
          <p class="map-popup__location"></p>
          <div class="map-popup__meta">
            <div class="meta-row"><span class="lbl">{% trans "Status" %}:</span><span class="val map-popup__status"></span></div>
            <div class="meta-row"><span class="lbl">{% trans "Completion" %}:</span><span class="val map-popup__compl"></span></div>
            <div class="meta-row"><span class="lbl">{% trans "ROI" %}:</span><span class="val map-popup__roi"></span></div>
            <div class="meta-row"><span class="lbl">{% trans "Area" %}:</span><span class="val map-popup__area"></span></div>
            <div class="meta-row"><span class="lbl">{% trans "Bedrooms" %}:</span><span class="val map-popup__bedrooms"></span></div>
          </div>
          <div class="map-popup__price"></div>
          <a href="#" class="map-popup__link btn-view">{% trans "View details" %}</a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
window.MAP_PROPERTIES = {{ map_properties_json|safe }};
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDclz9k9pFeNkKZqxr-ifah6RxAv6pOx98&callback=initBaliMap"></script>
{% endif %}