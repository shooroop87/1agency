{% load static %}
<section class="partners-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 wow fadeInUp" data-wow-delay="00ms">
        <div class="mb40">
          <p class="text-white-50 fw600 mb25">Growing together</p>
          <h2 class="title mb70">Our partners</h2>
        </div>
      </div>
    </div>

    <!-- оставляем существующие классы slider -->
    <div class="feature-listing-slider navi_pagi_bottom_center slider-dib-sm slider-4-grid owl-carousel owl-theme wow fadeInUp"
         data-wow-delay="300ms">

      <!-- item -->
      <div class="item">
        <div class="partners-card">
          <div class="partners-logo">
            <img src="https://andreyegorov.com/wp-content/uploads/2025/11/Vector-1.svg" alt="Partner logo">
          </div>

          <div class="partners-meta">
            <span class="partners-dot" aria-hidden="true"></span>
            <span class="partners-name">Revolut</span>
          </div>

          <p class="partners-desc">Description<br>Description</p>

          <a href="#" class="wdt-button button-cta is-sm partners-btn">
            Learn more <span class="wdt-button__icon" aria-hidden="true"></span>
          </a>
        </div>
      </div>

      <!-- продублируйте/замените данными -->
      <div class="item"><div class="partners-card">
        <div class="partners-logo"><img src="https://andreyegorov.com/wp-content/uploads/2025/11/Vector-1.svg" alt=""></div>
        <div class="partners-meta"><span class="partners-dot"></span><span class="partners-name">Revolut</span></div>
        <p class="partners-desc">Description<br>Description</p>
        <a href="#" class="wdt-button button-cta is-sm partners-btn">Learn more <span class="wdt-button__icon"></span></a>
      </div></div>

      <div class="item"><div class="partners-card">
        <div class="partners-logo"><img src="https://andreyegorov.com/wp-content/uploads/2025/11/Vector-1.svg" alt=""></div>
        <div class="partners-meta"><span class="partners-dot"></span><span class="partners-name">Revolut</span></div>
        <p class="partners-desc">Description<br>Description</p>
        <a href="#" class="wdt-button button-cta is-sm partners-btn">Learn more <span class="wdt-button__icon"></span></a>
      </div></div>

      <div class="item"><div class="partners-card">
        <div class="partners-logo"><img src="https://andreyegorov.com/wp-content/uploads/2025/11/Vector-1.svg" alt=""></div>
        <div class="partners-meta"><span class="partners-dot"></span><span class="partners-name">Revolut</span></div>
        <p class="partners-desc">Description<br>Description</p>
        <a href="#" class="wdt-button button-cta is-sm partners-btn">Learn more <span class="wdt-button__icon"></span></a>
      </div></div>

    </div>
  </div>
</section>

<script>
(function($){
  var $partners = $('.partners-section .feature-listing-slider');
  var $lineFill = $('.partners-line__fill');

  if(!$partners.length) return;

  $partners.on('initialized.owl.carousel changed.owl.carousel', function(e){
    if(!e.namespace) return;
    var carousel = e.relatedTarget;
    var current = carousel.relative(carousel.current());
    var total = carousel.items().length;
    var percent = ((current + 1) / total) * 100;
    $lineFill.css('width', percent + '%');
  });

  // Убедимся, что при старте уже отрисовано
  $partners.trigger('changed.owl.carousel');
})(jQuery);
</script>
