{% load static %}
<!-- ===== Areas of Bali ===== -->
<section class="areas-bali section-content">
  <!-- Фоновые фото - ВНЕ контейнера -->
  <div class="areas-bg-photos">
    <div class="areas-bg-photo active" data-area="canggu">
      <img src="{% static 'images/area_canggu.png' %}" alt="Canggu">
    </div>
    <div class="areas-bg-photo" data-area="bukit">
      <img src="{% static 'images/area_bukit.png' %}" alt="Bukit">
    </div>
    <div class="areas-bg-photo" data-area="ubud">
      <img src="{% static 'images/area_ubud.png' %}" alt="Ubud">
    </div>
  </div>
  
  <!-- Единица поверх фото -->
  <div class="areas-one-overlay"></div>

  <div class="container">
    <div class="row g-0 align-items-start">
      <!-- LEFT: табы -->
      <div class="col-lg-5 pe-lg-4">
        <span class="areas-eyebrow mb25">Areas of Bali</span>
        <h2 class="h2 areas-heading mb20">
          Explore our available villas in Bali's <br>most rapidly developing areas
        </h2>

        <div class="areas-tabs">
          <div class="nav areas-nav" role="tablist">
            <button class="nav-link active" data-area="canggu" type="button">
              <div class="area-tab-inner">
                <span class="dot"></span>
                <span class="area-title">Canggu</span>
              </div>
            </button>
            <button class="nav-link" data-area="bukit" type="button">
              <div class="area-tab-inner">
                <span class="dot"></span>
                <span class="area-title">Bukit</span>
              </div>
            </button>
            <button class="nav-link" data-area="ubud" type="button">
              <div class="area-tab-inner">
                <span class="dot"></span>
                <span class="area-title">Ubud</span>
              </div>
            </button>
          </div>

          <div class="areas-divider"></div>
          
          <!-- Контент табов -->
          <div class="areas-tab-content">
            <div class="areas-tab-pane active" data-area="canggu">
              <p class="areas-desc mb60 mt30">
                Canggu is one of Bali’s most vibrant districts, famous for its world-class surf breaks, trendy cafés, and buzzing nightlife. As the epicenter of modern island living, it attracts digital nomads, expats, and investors alike. With a booming real estate market and strong demand for short-term rentals, Canggu offers some of the highest returns on the island. It’s the perfect choice for active travelers and those looking for reliable passive income.
              </p>
              <a href="#" class="wdt-button button-cta is-nm wdt-button--bordered">
                View property <i class="wdt-button__icon"></i>
              </a>
            </div>
            <div class="areas-tab-pane" data-area="bukit">
              <p class="areas-desc mb60 mt30">
                The Bukit Peninsula is home to Bali’s most iconic beaches, luxury resorts, and breathtaking cliffside villas with panoramic ocean views. This area appeals to those seeking privacy, elegance, and long-term value. Popular among surfers, families, and lifestyle investors, Bukit combines unspoiled natural beauty with the comforts of upscale seaside living — making it an ideal location for both holiday homes and long-term investments.
              </p>
              <a href="#" class="wdt-button button-cta is-nm wdt-button--bordered">
                View property <i class="wdt-button__icon"></i>
              </a>
            </div>
            <div class="areas-tab-pane" data-area="ubud">
              <p class="areas-desc mb60 mt30">
                Ubud is the cultural and spiritual heart of Bali, surrounded by lush rice terraces and tropical jungle. Known for its tranquil rhythm of life, Ubud attracts those in search of harmony, wellness, and creativity. The area is a favorite among expats, yogis, and artists, with strong demand for private villa rentals. For investors, Ubud presents unique opportunities in long-term rentals and eco-conscious developments.
              </p>
              <a href="#" class="wdt-button button-cta is-nm wdt-button--bordered">
                View property <i class="wdt-button__icon"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-7"></div>
    </div>
  </div>
</section>

<style>
.areas-bali {
  position: relative;
  min-height: 715px;
  overflow: hidden;
}

/* Фоновые фото на всю ширину */
.areas-bg-photos {
  position: absolute;
  top: 0;
  right: 0;
  width: 60%;
  height: 100%;
  z-index: 1;
}

.areas-bg-photo {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 0.6s ease;
}

.areas-bg-photo.active {
  opacity: 1;
}

.areas-bg-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Единица как overlay */
.areas-one-overlay {
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
  background: url('/static/images/bg_areas.png') center/cover no-repeat;
  z-index: 2;
  pointer-events: none;
}

/* Контент поверх */
.areas-bali .container {
  position: relative;
  z-index: 3;
}

/* Табы */
.areas-tab-pane {
  display: none;
}
.areas-tab-pane.active {
  display: block;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const buttons = document.querySelectorAll('.areas-nav .nav-link');
  const photos = document.querySelectorAll('.areas-bg-photo');
  const panes = document.querySelectorAll('.areas-tab-pane');

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const area = btn.dataset.area;

      // Убираем active у всех
      buttons.forEach(b => b.classList.remove('active'));
      photos.forEach(p => p.classList.remove('active'));
      panes.forEach(p => p.classList.remove('active'));

      // Добавляем active нужным
      btn.classList.add('active');
      document.querySelector(`.areas-bg-photo[data-area="${area}"]`).classList.add('active');
      document.querySelector(`.areas-tab-pane[data-area="${area}"]`).classList.add('active');
    });
  });
});

</script>