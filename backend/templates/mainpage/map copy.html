{% load static i18n %}
<section class="map-section" id="map-section">
  <div class="container">
    <p class="section-kicker">Map</p>
    <h2 class="section-title">Expanding across all the islands</h2>
  </div>

  <div class="map-wrapper">
    <div id="gmap-bali" class="map-canvas"></div>
    
    <!-- Zoom buttons -->
    <div class="map-zoom">
      <button type="button" class="map-zoom__btn" data-zoom="in">+</button>
      <button type="button" class="map-zoom__btn" data-zoom="out">âˆ’</button>
    </div>

    <!-- Popup card -->
    <div id="map-popup" class="map-popup" style="display:none;">
      <div class="map-popup__inner">
        <div class="map-popup__header">
          <span class="map-popup__dot"></span>
          <div class="map-popup__headings">
            <h3 class="map-popup__title"></h3>
            <p class="map-popup__place"></p>
          </div>
          <button class="map-popup__menu" type="button">
            <span></span><span></span><span></span>
          </button>
        </div>
        <div class="map-popup__body">
          <figure class="map-popup__thumb">
            <img src="" alt="">
          </figure>
          <div class="map-popup__meta">
            <div class="meta-row">
              <span class="lbl">Construction:</span>
              <span class="val map-popup__status"></span>
            </div>
            <div class="meta-row">
              <span class="lbl">Completion date:</span>
              <span class="val map-popup__compl"></span>
            </div>
            <div class="meta-row">
              <span class="lbl">ROI:</span>
              <span class="val map-popup__roi"></span>
            </div>
            <div class="meta-row price-row">
              <span class="lbl">From</span>
              <span class="val map-popup__price"></span>
            </div>
            <div class="meta-row muted">
              <span class="map-popup__units"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  window.MAP_PROPERTIES = {{ map_properties_json|safe }};
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBUvfhW4zGD9sUWWtRvo-QHReeRVUcfb18&callback=initBaliMap"></script>