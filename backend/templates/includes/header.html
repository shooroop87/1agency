{% load static %}
<!-- =================================================================== -->
<!--  ПРОСТОЕ РЕШЕНИЕ: 2 критических файла сразу + остальные через preload  -->
<!-- =================================================================== -->
<style>
/* Критические стили лоадера — сразу в head */
.loader-tim {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #1a1a1a;
  z-index: 99999;
}
.loader-tim-wrap {
  position: relative;
  width: 100%;
  height: 100%;
}
.loader-imgs {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.loader-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
}
.loader-img.is-active { opacity: 1; }
.loader-counter { position: absolute; bottom: 40px; left: 40px; }
.loader-number { font-size: 48px; font-weight: 300; color: #fff; }
.loader-text { position: absolute; bottom: 40px; right: 40px; }
.loader-text p { font-size: 15px; font-weight: 600; color: #fff; }
.loader-tim.is-hidden { opacity: 0; pointer-events: none; transition: opacity 0.5s; }
body.is-loading { overflow: hidden; }
/* Прячем контент пока лоадер активен */
body.is-loading #content,
body.is-loading .menu-mobile { visibility: hidden; }
</style>
<script>document.body.classList.add('is-loading');</script>

<!-- 1. Критические стили — грузятся сразу, без хаков (чтобы не было FOUC) -->
<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="{% static 'css/responsive.css' %}">

<!-- 2. Все остальные — через preload → stylesheet (самый чистый современный способ) -->
<link rel="preload" href="{% static 'css/jquery-ui.min.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/ace-responsive-menu.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/menu.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/fontawesome.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/flaticon.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/bootstrap-select.min.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/animate.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/magnific-popup.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/slider.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/ud-custom-spacing.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/whatsapp.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">

<!-- 3. Если у пользователя выключен JavaScript — подгрузим всё обычным способом -->
<noscript>
  <link rel="stylesheet" href="{% static 'css/jquery-ui.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/ace-responsive-menu.css' %}">
  <link rel="stylesheet" href="{% static 'css/menu.css' %}">
  <link rel="stylesheet" href="{% static 'css/fontawesome.css' %}">
  <link rel="stylesheet" href="{% static 'css/flaticon.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap-select.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/animate.css' %}">
  <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">
  <link rel="stylesheet" href="{% static 'css/slider.css' %}">
  <link rel="stylesheet" href="{% static 'css/ud-custom-spacing.css' %}">
  <link rel="stylesheet" href="{% static 'css/whatsapp.css' %}">
</noscript>

<!-- HTML5 shim и Respond.js для IE8 -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->